{"version":3,"sources":["src/components/ionic/datepickerionic.ts"],"names":[],"mappings":"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","file":"datepickerionic.js","sourcesContent":["import { Component, Input, ElementRef, OnInit, Renderer, ChangeDetectorRef, Optional } from '@angular/core';\n\nimport * as moment from 'moment';\n\nimport { DatePickerTemplate } from '../datepicker.template';\nimport { BaseSelect } from '../../selections/base.select';\n\nimport { CalendarDay } from '../../models';\n\nimport { extendConfig, formProvider } from '../../config_helpers';\n\n@Component( DatePickerIonicComponent.extendConfig({\n  selector: 'datepicker-ionic'\n}, DatePickerIonicComponent))\nexport class DatePickerIonicComponent extends DatePickerTemplate<BaseSelect<any>, any> implements OnInit {\n\n  static extendConfig(config: Component, componentClass: Function, ...a: any[]) {\n    return extendConfig(\n      super.extendConfig({\n        templateUrl: './ionic.component.html',\n        styleUrls: ['ionic.css'],\n        inputs: ['class', 'expanded', 'opened', 'viewFormat']\n      }, componentClass),\n      config\n    );\n  }\n\n  static CONTAINER_CLASS = 'ui-kit-calendar-container';\n\n  private _class = DatePickerIonicComponent.CONTAINER_CLASS;\n\n  /*@Input()*/\n  get class() {\n    return this._class;\n  }\n  set class(classStr: string) {\n    this._class = DatePickerIonicComponent.CONTAINER_CLASS + ' ' + classStr;\n  }\n\n  private _opened = false;\n   get opened() {\n    return this._opened;\n  }\n\n  /*@Input()*/\n  set opened(b: boolean){\n    if( this._opened !== b ) {\n      this._opened = b;\n      this.cd.markForCheck();\n    }\n  }\n\n  /*@Input()*/ expanded: boolean;\n  /*@Input()*/ viewFormat = 'LL';\n\n  private el: Element;\n\n  constructor(renderer: Renderer, elRef: ElementRef, cd: ChangeDetectorRef, @Optional() select: BaseSelect<any>) {\n    super(cd, select);\n\n    this.el = elRef.nativeElement;\n\n    renderer.listenGlobal('window', 'click', e => {\n      if (this.opened &&\n          e.target &&\n          this.el !== e.target &&\n          !this.el.contains((<any>e.target)))\n        this.close();\n    });\n  }\n\n  ngOnInit() {\n    this.initMonths(moment());\n  }\n\n  onDateclick(e: MouseEvent, day: CalendarDay) {\n    e.preventDefault();\n\n    if ( day.date.isSame(this.month.date, 'M') ) {\n      this.select.selectDate(day.date);\n      this.close();\n    }\n  }\n\n\n  nextMonth() {\n    this.setMonth( this.month.date.add(1, 'M') );\n  }\n\n  prevMonth() {\n    this.setMonth( this.month.date.subtract(1, 'M') );\n  }\n\n  toggle() {\n    this.opened = !this.opened;\n  }\n\n  open() {\n    this.opened = true;\n  }\n\n  close() {\n    this.opened = false;\n  }\n\n  inputClick() {\n    this.onTouchedCallback();\n    this.toggle();\n  }\n}\n"]}